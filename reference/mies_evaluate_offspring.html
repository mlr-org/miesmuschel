<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Evaluate Proposed Configurations Generated in a MIES Iteration — mies_evaluate_offspring • miesmuschel</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Evaluate Proposed Configurations Generated in a MIES Iteration — mies_evaluate_offspring"><meta property="og:description" content='Calls $eval_batch of a given OptimInstance on a set
of configurations as part of a MIES operation. The dob extra-info in the archive
is also set properly to indicate a progressed generation.
This function can be used directly, but it is easier to use it within the OptimizerMies
Optimizer if standard GA operation is desired.
Multifidelity evaluation is supported as described in vignette("mies-multifid"). For this,
an extra component named after budget_id is appended to each individual, chosen from
the fidelity argument and depending on the value of survivor_budget. budget_id should
have the same values as given to the other mies_* functions.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">miesmuschel</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/mlr-org/miesmuschel/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Evaluate Proposed Configurations Generated in a MIES Iteration</h1>
    <small class="dont-index">Source: <a href="https://github.com/mlr-org/miesmuschel/blob/HEAD/R/mies_methods.R" class="external-link"><code>R/mies_methods.R</code></a></small>
    <div class="hidden name"><code>mies_evaluate_offspring.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calls <code>$eval_batch</code> of a given <code><a href="https://bbotk.mlr-org.com/reference/OptimInstance.html" class="external-link">OptimInstance</a></code> on a set
of configurations as part of a MIES operation. The <code>dob</code> extra-info in the archive
is also set properly to indicate a progressed generation.</p>
<p>This function can be used directly, but it is easier to use it within the <code><a href="OptimizerMies.html">OptimizerMies</a></code>
<code><a href="https://bbotk.mlr-org.com/reference/Optimizer.html" class="external-link">Optimizer</a></code> if standard GA operation is desired.</p>
<p>Multifidelity evaluation is supported as described in <code>vignette("mies-multifid")</code>. For this,
an extra component named after <code>budget_id</code> is appended to each individual, chosen from
the <code>fidelity</code> argument and depending on the value of <code>survivor_budget</code>. <code>budget_id</code> should
have the same values as given to the other <code>mies_*</code> functions.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mies_evaluate_offspring</span><span class="op">(</span></span>
<span>  <span class="va">inst</span>,</span>
<span>  <span class="va">offspring</span>,</span>
<span>  budget_id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fidelity <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  reevaluate_fidelity <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fidelity_monotonic <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>inst</dt>
<dd><p>(<code><a href="https://bbotk.mlr-org.com/reference/OptimInstance.html" class="external-link">OptimInstance</a></code>)<br>
Optimization instance to evaluate.</p></dd>


<dt>offspring</dt>
<dd><p>(<code>data.frame</code>)<br>
Proposed configurations to be evaluated, must have columns named after the <code>inst</code>'s search space, minus <code>budget_id</code> if not <code>NULL</code>.</p></dd>


<dt>budget_id</dt>
<dd><p>(<code>character(1)</code> | <code>NULL</code>)<br>
Budget component when doing multi-fidelity optimization. This component of the search space is added
to <code>individuals</code> according to <code>fidelity</code>. Should be <code>NULL</code> when no multi-fidelity optimization is performed (default).</p></dd>


<dt>fidelity</dt>
<dd><p>(<code>atomic(1)</code> | <code>NULL</code>)<br>
Atomic scalar indicating the value to be assigned to the <code>budget_id</code> component of offspring.
This value must be <code>NULL</code> if no multi-fidelity optimization is performed (the default).</p></dd>


<dt>reevaluate_fidelity</dt>
<dd><p>(<code>atomic(1)</code>)<br>
Fidelity with which to evaluate alive individuals from previous generations that have a budget value below (if <code>fidelity_monotonic</code> is <code>TRUE</code>) or
different from the current <code>fidelity</code> value. Default <code>NULL</code>: Do not re-evaluate. Must be <code>NULL</code> when <code>budget_id</code> and <code>fidelity</code> are <code>NULL</code>.
See also <code><a href="mies_step_fidelity.html">mies_step_fidelity</a></code>.</p></dd>


<dt>fidelity_monotonic</dt>
<dd><p>(<code>logical(1)</code>)<br>
When <code>reevaluate_fidelity</code> is non-<code>NULL</code>, then this indicates whether individuals should only ever be re-evaluated when fidelity would be increased.
Default <code>TRUE</code>. Ignored when <code>reevaluate_fidelity</code> is <code>NULL</code></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></p>
<p></p>
<p><code><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></code>: the performance values returned when evaluating the <code>offspring</code> values
through <code>eval_batch</code>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other mies building blocks: 
<code><a href="mies_generate_offspring.html">mies_generate_offspring</a>()</code>,
<code><a href="mies_get_fitnesses.html">mies_get_fitnesses</a>()</code>,
<code><a href="mies_init_population.html">mies_init_population</a>()</code>,
<code><a href="mies_select_from_archive.html">mies_select_from_archive</a>()</code>,
<code><a href="mies_step_fidelity.html">mies_step_fidelity</a>()</code>,
<code><a href="mies_survival_comma.html">mies_survival_comma</a>()</code>,
<code><a href="mies_survival_plus.html">mies_survival_plus</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://bbotk.mlr-org.com" class="external-link">"bbotk"</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">lgr</span><span class="fu">::</span><span class="fu"><a href="https://s-fleck.github.io/lgr/reference/simple_logging.html" class="external-link">threshold</a></span><span class="op">(</span><span class="st">"warn"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Define the objective to optimize</span></span></span>
<span class="r-in"><span><span class="va">objective</span> <span class="op">&lt;-</span> <span class="va"><a href="https://bbotk.mlr-org.com/reference/ObjectiveRFun.html" class="external-link">ObjectiveRFun</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span></span>
<span class="r-in"><span>  fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">xs</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="va">xs</span><span class="op">$</span><span class="va">x</span><span class="op">^</span><span class="fl">2</span> <span class="op">-</span> <span class="va">xs</span><span class="op">$</span><span class="va">y</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="fl">2</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="op">-</span><span class="op">(</span><span class="fl">2</span> <span class="op">-</span> <span class="va">xs</span><span class="op">$</span><span class="va">x</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">-</span> <span class="op">(</span><span class="fl">2</span> <span class="op">-</span> <span class="va">xs</span><span class="op">$</span><span class="va">y</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Obj <span class="op">=</span> <span class="va">z</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span>,</span></span>
<span class="r-in"><span>  domain <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/ps.html" class="external-link">ps</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/Domain.html" class="external-link">p_dbl</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span>, y <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/Domain.html" class="external-link">p_dbl</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  codomain <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/ps.html" class="external-link">ps</a></span><span class="op">(</span>Obj <span class="op">=</span> <span class="fu"><a href="https://paradox.mlr-org.com/reference/Domain.html" class="external-link">p_dbl</a></span><span class="op">(</span>tags <span class="op">=</span> <span class="st">"maximize"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get a new OptimInstance</span></span></span>
<span class="r-in"><span><span class="va">oi</span> <span class="op">&lt;-</span> <span class="va"><a href="https://bbotk.mlr-org.com/reference/OptimInstanceSingleCrit.html" class="external-link">OptimInstanceSingleCrit</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">objective</span>,</span></span>
<span class="r-in"><span>  terminator <span class="op">=</span> <span class="fu"><a href="https://bbotk.mlr-org.com/reference/trm.html" class="external-link">trm</a></span><span class="op">(</span><span class="st">"evals"</span>, n_evals <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="mies_init_population.html">mies_init_population</a></span><span class="op">(</span>inst <span class="op">=</span> <span class="va">oi</span>, mu <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Initial state:</span></span></span>
<span class="r-in"><span><span class="va">oi</span><span class="op">$</span><span class="va">archive</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;Archive&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        x       y   dob   eol  x_id   Obj           timestamp batch_nr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    &lt;num&gt;   &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;              &lt;POSc&gt;    &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:  3.48 -0.0056     1    NA     1 0.004 2024-05-13 04:41:05        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: -0.24  1.9052     1    NA     2 0.038 2024-05-13 04:41:05        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:  0.75 -0.4519     1    NA     3 0.463 2024-05-13 04:41:05        1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 'offspring' is just a data.frame of values to evaluate.</span></span></span>
<span class="r-in"><span><span class="co"># In general it should be created using 'mies_generate_offspring()'.</span></span></span>
<span class="r-in"><span><span class="va">offspring</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, y <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">mies_evaluate_offspring</span><span class="op">(</span><span class="va">oi</span>, offspring <span class="op">=</span> <span class="va">offspring</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This evaluated the given points and assigned them 'dob' 2.</span></span></span>
<span class="r-in"><span><span class="va">oi</span><span class="op">$</span><span class="va">archive</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;Archive&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        x       y   dob   eol  x_id   Obj           timestamp batch_nr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    &lt;num&gt;   &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;              &lt;POSc&gt;    &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:  3.48 -0.0056     1    NA     1 0.004 2024-05-13 04:41:05        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: -0.24  1.9052     1    NA     2 0.038 2024-05-13 04:41:05        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:  0.75 -0.4519     1    NA     3 0.463 2024-05-13 04:41:05        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:  1.00  2.0000     2    NA     4 0.742 2024-05-13 04:41:05        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:  2.00  1.0000     2    NA     5 0.742 2024-05-13 04:41:05        2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Note that at this point one would ordinarily call a 'mies_survival_*()'</span></span></span>
<span class="r-in"><span><span class="co"># function.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">###</span></span></span>
<span class="r-in"><span><span class="co"># Advanced demo, making use of additional components and doing multi-fidelity</span></span></span>
<span class="r-in"><span><span class="co">##</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># declare 'y' the budget parameter. It will not be in the 'offspring'</span></span></span>
<span class="r-in"><span><span class="co"># table any more.</span></span></span>
<span class="r-in"><span><span class="va">budget_id</span> <span class="op">=</span> <span class="st">"y"</span></span></span>
<span class="r-in"><span><span class="co"># but: offspring may contain any other value that is appended to 'oi'. These</span></span></span>
<span class="r-in"><span><span class="co"># are ignored by the objective.</span></span></span>
<span class="r-in"><span><span class="va">offspring</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">1</span>, z <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">mies_evaluate_offspring</span><span class="op">(</span><span class="va">oi</span>, offspring <span class="op">=</span> <span class="va">offspring</span>, budget_id <span class="op">=</span> <span class="va">budget_id</span>,</span></span>
<span class="r-in"><span>  fidelity <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This now has the additional column 'z'. Values of y for the new evaluations</span></span></span>
<span class="r-in"><span><span class="co"># are 1.</span></span></span>
<span class="r-in"><span><span class="va">oi</span><span class="op">$</span><span class="va">archive</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;Archive&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        x       y   dob   eol  x_id   Obj           timestamp batch_nr     z</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    &lt;num&gt;   &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;              &lt;POSc&gt;    &lt;int&gt; &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:  3.48 -0.0056     1    NA     1 0.004 2024-05-13 04:41:05        1    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: -0.24  1.9052     1    NA     2 0.038 2024-05-13 04:41:05        1    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:  0.75 -0.4519     1    NA     3 0.463 2024-05-13 04:41:05        1    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:  1.00  2.0000     2    NA     4 0.742 2024-05-13 04:41:05        2    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:  2.00  1.0000     2    NA     5 0.742 2024-05-13 04:41:05        2    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:  0.00  1.0000     3    NA     6 0.381 2024-05-13 04:41:05        3     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7:  1.00  1.0000     3    NA     7 0.406 2024-05-13 04:41:05        3     3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">offspring</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">2</span>, z <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Increasing the fidelity will not cause re-evaluation of existing individuals</span></span></span>
<span class="r-in"><span><span class="co"># when `reevaluate_fidelity` is not given.</span></span></span>
<span class="r-in"><span><span class="fu">mies_evaluate_offspring</span><span class="op">(</span><span class="va">oi</span>, offspring <span class="op">=</span> <span class="va">offspring</span>, budget_id <span class="op">=</span> <span class="va">budget_id</span>,</span></span>
<span class="r-in"><span>  fidelity <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">oi</span><span class="op">$</span><span class="va">archive</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;Archive&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        x       y   dob   eol  x_id   Obj           timestamp batch_nr     z</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    &lt;num&gt;   &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;              &lt;POSc&gt;    &lt;int&gt; &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:  3.48 -0.0056     1    NA     1 0.004 2024-05-13 04:41:05        1    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: -0.24  1.9052     1    NA     2 0.038 2024-05-13 04:41:05        1    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:  0.75 -0.4519     1    NA     3 0.463 2024-05-13 04:41:05        1    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:  1.00  2.0000     2    NA     4 0.742 2024-05-13 04:41:05        2    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:  2.00  1.0000     2    NA     5 0.742 2024-05-13 04:41:05        2    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:  0.00  1.0000     3    NA     6 0.381 2024-05-13 04:41:05        3     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7:  1.00  1.0000     3    NA     7 0.406 2024-05-13 04:41:05        3     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8:  2.00  2.0000     4    NA     8 2.000 2024-05-13 04:41:05        4     3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">offspring</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">3</span>, z <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Depending on the effect of fidelity, this may however have a biasing effect,</span></span></span>
<span class="r-in"><span><span class="co"># so it may be desirable to re-evaluate surviving individuals from previous</span></span></span>
<span class="r-in"><span><span class="co"># generations. The 'reevaluate_fidelity' may even be different from 'fidelity'</span></span></span>
<span class="r-in"><span><span class="fu">mies_evaluate_offspring</span><span class="op">(</span><span class="va">oi</span>, offspring <span class="op">=</span> <span class="va">offspring</span>, budget_id <span class="op">=</span> <span class="va">budget_id</span>,</span></span>
<span class="r-in"><span>  fidelity <span class="op">=</span> <span class="fl">3</span>, reevaluate_fidelity <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># In this example, only individuals with 'y = 1' were re-evaluated, since</span></span></span>
<span class="r-in"><span><span class="co"># 'fidelity_monotonic' is TRUE.</span></span></span>
<span class="r-in"><span><span class="va">oi</span><span class="op">$</span><span class="va">archive</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;Archive&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         x       y   dob   eol  x_id   Obj           timestamp batch_nr     z</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     &lt;num&gt;   &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;              &lt;POSc&gt;    &lt;int&gt; &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:  3.48 -0.0056     1     5     1 0.004 2024-05-13 04:41:05        1    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2: -0.24  1.9052     1     5     2 0.038 2024-05-13 04:41:05        1    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:  0.75 -0.4519     1     5     3 0.463 2024-05-13 04:41:05        1    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:  1.00  2.0000     2    NA     4 0.742 2024-05-13 04:41:05        2    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:  2.00  1.0000     2     5     5 0.742 2024-05-13 04:41:05        2    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:  0.00  1.0000     3     5     6 0.381 2024-05-13 04:41:05        3     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:  1.00  1.0000     3     5     7 0.406 2024-05-13 04:41:05        3     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:  2.00  2.0000     4    NA     8 2.000 2024-05-13 04:41:05        4     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:  3.00  3.0000     5    NA     9 0.271 2024-05-13 04:41:05        5     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:  3.48  2.0000     5    NA     1 0.226 2024-05-13 04:41:05        5    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11: -0.24  2.0000     5    NA     2 0.031 2024-05-13 04:41:05        5    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:  0.75  2.0000     5    NA     3 0.434 2024-05-13 04:41:05        5    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:  2.00  2.0000     5    NA     5 2.000 2024-05-13 04:41:05        5    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:  0.00  2.0000     5    NA     6 0.055 2024-05-13 04:41:05        5     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:  1.00  2.0000     5    NA     7 0.742 2024-05-13 04:41:05        5     3</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Martin Binder.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

